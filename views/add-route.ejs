<!DOCTYPE html>
<html lang="en">

<head>

    <% include /partials/head %>

        <title>Waypoints in directions</title>
        <style>
            #right-panel {
                font-family: 'Roboto', 'sans-serif';
                line-height: 30px;
                padding-left: 10px;
            }

            #right-panel select,
            #right-panel input {
                font-size: 15px;
            }

            #right-panel select {
                width: 100%;
            }

            #right-panel i {
                font-size: 12px;
            }

            html,
            body {
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #map {
                height: 100%;
                float: left;
                width: 70%;
                height: 100%;
            }

            #right-panel {
                margin: 20px;
                border-width: 2px;
                width: 20%;
                height: 400px;
                float: left;
                text-align: left;
                padding-top: 0;
            }

            #directions-panel {
                margin-top: 10px;
                background-color: #FFEE77;
                padding: 10px;
                overflow: scroll;
                height: 174px;
            }
        </style>
</head>

<body class="body-wrapper">
    <div class="page-loader" style="background: url(img/preloader.gif) center no-repeat #fff;"></div>
    <div class="main-wrapper">
        <!-- HEADER -->
        <header id="pageTop" class="header">

            <!-- TOP INFO BAR -->

            <div class="nav-wrapper navbarWhite">

                <div class="container-fluid header-bg">
                    <div class="row">
                        <div class="col-lg-4 col-sm-4 col-xs-6 header-left empty">
                            empty
                        </div>
                        <div class="col-lg-8 col-sm-8 col-xs-6 header-right empty">
                            empty
                        </div>
                    </div>
                </div>

                <!-- NAVBAR -->

                <nav id="menuBar" class="navbar navbar-default lightHeader" role="navigation">
                    <div class="container">

                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <a class="navbar-brand" href="index.html">
                                <img src="img/WeSameWay Logo.png" alt="logo">
                            </a>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse navbar-ex1-collapse">

                            <ul class="nav navbar-nav navbar-right">

                                <!--<li class=""><a href="search.html" style="font-weight:bolder">ค้นหารถ</a></li>-->
                                <!--<li class=""><a href="Profile.html" style="font-weight:bolder">ข้อมูลพาร์ทเนอร์</a></li>-->
                                <li class="">
                                    <a href="Truck.html" style="font-weight:bolder">ข้อมูลรถ</a>
                                </li>
                                <li class="">
                                    <a href="Driver.html" style="font-weight:bolder">สร้างรายชื่อคนขับ</a>
                                </li>
                                <li class="active">
                                    <a href="Route.html" style="font-weight:bolder">สร้างเส้นทาง</a>
                                </li>
                                <li class="">
                                    <a href="Trip.html" style="font-weight:bolder">สร้างแผนการเดินทาง</a>
                                </li>


                                <!--<li class="dropdown singleDrop">
            <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="font-weight:bolder">เข้าสู่ระบบ <i class="fa fa-angle-down" aria-hidden="true"></i></a>
            <ul class="dropdown-menu dropdown-menu-right">
                <li><a href="customer-login.html">สมาชิก</a></li>
                <li><a href="partner-login.html">พาร์ทเนอร์</a></li>

            </ul>
        </li>-->
                                <!--<li class=""><a href="login.html" style="font-weight:bolder;font-size:large">เข้าสู่ระบบ</a></li>-->
                                <!--<li class=""><a href="how-it-works.html" style="font-weight:bolder">วิธีใช้งาน</a></li>-->

                            </ul>
                            <button type="button" class="btn btn-default navbar-btn" data-toggle="modal" data-target="#loginModal"> +
                                <span>ออกจากระบบ</span>
                            </button>

                        </div>

                    </div>
                </nav>
            </div>
            <div class="navbar-dashboard-area">
                <nav class="navbar navbar-default lightHeader navbar-dashboard" role="navigation">
                    <div class="container">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-dash">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>
                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse navbar-dash">
                            <ul class="nav navbar-nav mr0">
                                <li class="active">
                                    <a href="dashboard.html">
                                        <i class="fa fa-tachometer icon-dash" aria-hidden="true"></i> หน้าหลักพาร์ทเนอร์</a>
                                </li>

                                <li>
                                    <a href="Completed_orders.html">
                                        <i class="fa fa-cogs icon-dash" aria-hidden="true"></i>รายการของส่งแล้ว</a>
                                </li>
                                <li>
                                    <a href="Pending_orders.html">
                                        <i class="fa fa-cogs icon-dash" aria-hidden="true"></i>รายการของรอการส่ง</a>
                                </li>
                                <li>
                                    <a href="Waiting_orders.html">
                                        <i class="fa fa-cogs icon-dash" aria-hidden="true"></i>รายการของรอการยืนยัน</a>
                                </li>
                                <li>
                                    <a href="dashboard.html#message" class="scrolling">
                                        <i class="fa fa-envelope icon-dash" aria-hidden="true"></i>ข้อความ</a>
                                </li>
                                <li>
                                    <a href="profile.html">
                                        <i class="fa fa-user icon-dash" aria-hidden="true"></i>แก้ไขข้อมูลพาร์ทเนอร์</a>
                                </li>
                            </ul>
                            <div class="row adjustRow">
                                <div class="pull-right col-xs-12 col-sm-2">
                                    <form class="navbar-form" role="search">
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="Search" name="q">
                                            <span class="input-group-btn">
                                                <button class="btn btn-default" type="button">
                                                    <i class="icon-listy icon-search-2"></i>
                                                </button>
                                            </span>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </header>



        <!-- MAP SECTION -->



        <!--<div class="dashboardPageTitle text-center">
                <h2>ค้นหารถ</h2>
            </div>-->

        <div class="dashboardBoxBg mb30">
            <div class="profileIntro">
                <div class="row">

                    <section class="clearfix p0 col-sm-8">
                        <div id="map-canvas"></div>

                    </section>
                    <form method="POST" action="/routeinfo">
                        <div class="form-group col-md-4 col-sm-4 col-xs-12">
                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                <label for="orderStatus">ชื่อเส้นทาง</label>
                                <input type="text" class="form-control" id="route_name" placeholder="ชื่อเส้นทาง" name="name" required>
                            </div>
                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                <label for="orderStatus">จุดเริ่มต้น</label>
                                <input type="text" class="form-control" id="start" placeholder="ต้นทาง" name="startpoint" onchange="startPostcode()" required>
                                <input type="hidden" class="form-control" id="startpostcode" name="startpostcode" placeholder="ต้นทาง" required>
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point1</label>-->
                                <input type="text" class="form-control" id="waypoints1" name="stoppoint1" onchange="Postcode1()" placeholder="Stop point1">
                                <input type="hidden" class="form-control" id="postcode1" name="postcode1" placeholder="Stop point1">
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point2</label>-->
                                <input type="text" class="form-control" id="waypoints2" name="stoppoint2" onchange="Postcode2()" placeholder="Stop point2">
                                <input type="hidden" class="form-control" id="postcode2" name="postcode2" placeholder="Stop point2">
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point3</label>-->
                                <input type="text" class="form-control" id="waypoints3" name="stoppoint3" onchange="Postcode3()" placeholder="Stop point3">
                                <input type="hidden" class="form-control" id="postcode3" name="postcode3" placeholder="Stop point3">
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point4</label>-->
                                <input type="text" class="form-control" id="waypoints4" name="stoppoint4" onchange="Postcode4()" placeholder="Stop point4">
                                <input type="hidden" class="form-control" id="postcode4" name="postcode4" placeholder="Stop point4">
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point5</label>-->
                                <input type="text" class="form-control" id="waypoints5" name="stoppoint5" onchange="Postcode5()" placeholder="Stop point5">
                                <input type="hidden" class="form-control" id="postcode5" name="postcode5" placeholder="Stop point5">
                            </div>
                            <div class="form-group col-md-6 col-sm-6 col-xs-12">
                                <!--<label for="orderStatus">Stop point6</label>-->
                                <input type="text" class="form-control" id="waypoints6" name="stoppoint6" onchange="Postcode6()" placeholder="Stop point6">
                                <input type="hidden" class="form-control" id="postcode6" name="postcode6" placeholder="Stop point6">
                            </div>
                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                <label for="orderStatus">ปลายทาง</label>
                                <input type="text" class="form-control" id="end" name="endpoint" onchange="endPostcode()" placeholder="ปลายทาง" required>
                                <input type="hidden" class="form-control" id="endpostcode" name="endpostcode" placeholder="ปลายทาง">
                            </div>

                            <div class="form-group col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                                <button type="button" class="btn btn-primary" value="ดูเส้นทาง" style="text-align:center" id="submit" onclick="initMap()">
                                    ดูเส้นทาง </button>
                                <button type="submit" class="btn btn-primary" value="บันทึกเส้นทาง" style="text-align:center" id="save">
                                    บันทึกเส้นทาง </button>
                            </div>

                            <!--div class="form-group col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                                <button type="button" class="btn btn-primary" value="ดูเส้นทาง" style="text-align:center" id="submit" onclick="initMap()">
                                    ดูเส้นทาง </button>
                                <button type="button" class="btn btn-primary" value="บันทึกเส้นทาง" style="text-align:center" id="save" onclick="saveMap()">
                                    บันทึกเส้นทาง </button>
                            </div-->
                            <!--<input type="submit" value="บันทึกเส้นทาง" id="submit" onclick="saveMap()">-->
                        </div>
                        <!--<div id="directions-panel"></div>-->


                    </form>
                </div>
            </div>
        </div>





        <!-- FOOTER -->
        <footer class="footerWhite">
            <!-- FOOTER INFO -->
            <div class="clearfix footerInfo">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-7 col-xs-12">
                            <div class="footerText">
                                <a href="index.html" class="footerLogo">
                                    <img src="img/logo-blue.png" alt="Footer Logo">
                                </a>
                                <p> ถูกกว่า สะดวกกว่า สินค้าปลอดภัย</p>
                                <ul class="list-styled list-contact">
                                    <li>
                                        <i class="fa fa-phone" aria-hidden="true"></i>[88] 657 524 332</li>
                                    <li>
                                        <i class="fa fa-envelope" aria-hidden="true"></i>
                                        <a href="#">info@wesameway.com</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <div class="footerInfoTitle">
                                <h4>Links</h4>
                            </div>
                            <div class="useLink">
                                <ul class="list-unstyled">
                                    <li>
                                        <a href="dashboard.html">หน้าสมาชิก</a>
                                    </li>
                                    <li>
                                        <a href="sign-up.html">หน้าพาร์ทเนอร์</a>
                                    </li>
                                    <li>
                                        <a href="login.html">สมัครสมาชิก</a>
                                    </li>

                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-2 col-xs-12">
                            <div class="footerInfoTitle">
                                <h4>Company</h4>
                            </div>
                            <div class="useLink">
                                <ul class="list-unstyled">
                                    <li>
                                        <a href="contact-us.html">ติดต่อเรา</a>
                                    </li>
                                    <li>
                                        <a href="terms-of-services.html">ข้อตกลงและเงื่อนไข</a>
                                    </li>
                                    <li>
                                        <a href="how-it-works.html">การใช้งาน</a>
                                    </li>
                                    <li>
                                        <a href="payment-process.html">การชำระเงิน</a>
                                    </li>
                                    <li>
                                        <a href="pricing-table.html">เราแตกต่างจากที่อื่นอย่างไร</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COPY RIGHT -->
            <div class="clearfix copyRight">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="copyRightWrapper">
                                <div class="row">
                                    <div class="col-sm-5 col-sm-push-7 col-xs-12">
                                        <ul class="list-inline socialLink">
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-pinterest-p" aria-hidden="true"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-sm-7 col-sm-pull-5 col-xs-12">
                                        <div class="copyRightText">
                                            <p>Copyright &copy; 2017. All Rights Reserved by
                                                <a href="http://www.wesameway.com/" target="_blank">We Same Way</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- LOGIN  MODAL -->
    <div id="loginModal" tabindex="-1" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">กรุณา Log in เพื่อ เข้าสู่ระบบ</h4>
                </div>
                <div class="modal-body">
                    <form class="loginForm">
                        <div class="form-group">
                            <i class="fa fa-envelope" aria-hidden="true"></i>
                            <input type="email" class="form-control" id="email" placeholder="อีเมลล์หรือเบอร์โทรศัพท์">
                        </div>
                        <div class="form-group">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                            <input type="password" class="form-control" id="pwd" placeholder="Password">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">Log In</button>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox"> Remember me</label>
                            <a href="#" class="pull-right link">ลืมพาร์ดเวิอร์ด?</a>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <p>ยังไม่ได้เป็นสมาชิก?
                        <a href="#" class="link">ลงทะเบียน</a>
                    </p>
                </div>
            </div>

        </div>
    </div>

    <!-- JAVASCRIPTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="plugins/jquery/jquery.min.js"></script>
    <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
    <script src="plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="plugins/smoothscroll/SmoothScroll.min.js"></script>
    <script src="plugins/waypoints/waypoints.min.js"></script>
    <script src="plugins/counter-up/jquery.counterup.min.js"></script>
    <script src="plugins/datepicker/bootstrap-datepicker.min.js"></script>
    <script src="plugins/selectbox/jquery.selectbox-0.1.3.min.js"></script>
    <script src="plugins/owl-carousel/owl.carousel.min.js"></script>
    <script src="plugins/isotope/isotope.min.js"></script>
    <script src="plugins/fancybox/jquery.fancybox.pack.js"></script>
    <script src="plugins/isotope/isotope-triger.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7_JFbQgIarSxSuPVcwJvkT0wEmJlUSZw&;callback=initMap&language=th"></script>
    <script src="plugins/map/js/rich-marker.js"></script>
    <script src="plugins/map/js/infobox_packed.js"></script>
    <script src="javascript/map.js"></script>
    <script src="javascript/custom.js"></script>

    <script>

        function initMap() {
            var directionsService = new google.maps.DirectionsService;
            var directionsDisplay = new google.maps.DirectionsRenderer({
                draggable: true,
                map: map

            });

            var map = new google.maps.Map(document.getElementById('map-canvas'), {
                zoom: 7

            });

            directionsDisplay.setMap(map);
            var waypts = [];
            var checkboxArray1 = document.getElementById('waypoints1');
            var checkboxArray2 = document.getElementById('waypoints2');
            var checkboxArray3 = document.getElementById('waypoints3');
            var checkboxArray4 = document.getElementById('waypoints4');
            var checkboxArray5 = document.getElementById('waypoints5');
            var checkboxArray6 = document.getElementById('waypoints6');
            if (checkboxArray1.value != "") {
                waypts.push({
                    location: checkboxArray1.value,
                    stopover: true
                });
            }
            if (checkboxArray2.value != "") {
                waypts.push({
                    location: checkboxArray2.value,
                    stopover: true
                });
            }
            if (checkboxArray3.value != "") {
                waypts.push({
                    location: checkboxArray3.value,
                    stopover: true
                });
            }
            if (checkboxArray4.value != "") {
                waypts.push({
                    location: checkboxArray4.value,
                    stopover: true
                });
            }
            if (checkboxArray5.value != "") {
                waypts.push({
                    location: checkboxArray5.value,
                    stopover: true
                });
            }
            if (checkboxArray6.value != "") {
                waypts.push({
                    location: checkboxArray6.value,
                    stopover: true
                });
            }
            //for (var i = 0; i < checkboxArray.length; i++) {
            //    if (checkboxArray.options[i].selected) {
            //        waypts.push({
            //            location: checkboxArray[i].value,
            //            stopover: true
            //        });
            //    }
            //}
            directionsService.route({
                origin: document.getElementById('start').value,
                destination: document.getElementById('end').value,
                travelMode: 'DRIVING',
                waypoints: waypts,
                optimizeWaypoints: true

            }, function (response, status) {
                if (status === 'OK') {
                    directionsDisplay.setDirections(response);
                    var route = response.routes[0];
                    var summaryPanel = document.getElementById('directions-panel');
                    summaryPanel.innerHTML = '';
                    // For each route, display summary information.
                    for (var i = 0; i < route.legs.length; i++) {
                        var routeSegment = i + 1;
                        summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
                            '</b><br>';
                        summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
                        summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
                        summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
                    }

                }

                else {
                    window.alert('Directions request failed due to ' + status);
                }
            });
        }




            //document.getElementById('start1').value = "tetstsdtats";


    </script>
    <script>
        function startPostcode() {

            var geocoder = new google.maps.Geocoder();
            //get postal code start.
            var start0 = document.getElementById("start").value;
            geocoder.geocode({ 'address': start0 }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var start0_lat = results[0].geometry.location.lat();
                    var start0_lng = results[0].geometry.location.lng();
                    var StartLatlng0 = new google.maps.LatLng(start0_lat, start0_lng);
                    geocoder.geocode(
                        { 'latLng': StartLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                start_post = value[count - 2];
                                document.getElementById("startpostcode").value = start_post;
                            }
                        });
                }
            });
            //end postal code start.

        }

        function endPostcode() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var end = document.getElementById("end").value;
            geocoder.geocode({ 'address': end }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var end_lat = results[0].geometry.location.lat();
                    var end_lng = results[0].geometry.location.lng();
                    var endLatlng0 = new google.maps.LatLng(end_lat, end_lng);
                    geocoder.geocode(
                        { 'latLng': endLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                end_post = value[count - 2];
                                document.getElementById("endpostcode").value = end_post;
                            }
                        });
                }
            });
            //end postal code start.

        }

        
        function Postcode1() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints1").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                document.getElementById("postcode1").value = post;
                            }
                        });
                }
            });
        }
        //end postal code start.
        function Postcode2() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints2").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                document.getElementById("postcode2").value = post;
                            }
                        });
                }
            });
            //end postal code start.
        }
        function Postcode3() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints3").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                document.getElementById("postcode3").value = post;
                            }
                        });
                }
            });
            //end postal code start.
        }
        function Postcode4() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints4").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                document.getElementById("postcode4").value = post;
                            }
                        });
                }
            });
            //end postal code start.
        }
        function Postcode5() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints5").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                alert(post)
                                document.getElementById("postcode5").value = post;

                            }
                        });
                }
            });
            //end postal code start.
        }
        function Postcode6() {
            var geocoder = new google.maps.Geocoder();
            //get end postal code .
            var postal = document.getElementById("waypoints6").value;
            geocoder.geocode({ 'address': postal }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    var post_lat = results[0].geometry.location.lat();
                    var post_lng = results[0].geometry.location.lng();
                    var postLatlng0 = new google.maps.LatLng(post_lat, post_lng);
                    geocoder.geocode(
                        { 'latLng': postLatlng0 },
                        function (results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {

                                var add = results[0].formatted_address;
                                var value = add.split(" ");

                                count = value.length;

                                post = value[count - 2];
                                document.getElementById("postcode6").value = post;
                            }
                        });
                }
            });
            //end postal code start.
        }

    </script>

</body>

</html>